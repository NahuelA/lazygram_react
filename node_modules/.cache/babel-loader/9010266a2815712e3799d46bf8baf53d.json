{"ast":null,"code":"import { lg_api } from \"../../__modules__\";\n\nasync function likePost(e) {\n  if (String(e.nativeEvent.path[1].id).startsWith(\"likes_post\")) {\n    let url = `posts/${e.nativeEvent.path[4].id}/`;\n    let token = window.localStorage.getItem(\"token\");\n    let profile_likedit = window.localStorage.getItem(\"profile_auth\");\n    await lg_api(url, {\n      method: \"put\",\n      headers: {\n        Authorization: `Token ${token}`\n      },\n      data: {\n        profile_likedit: profile_likedit\n      }\n    }).then(res => {\n      e.target.innerHTML = res.data.likes;\n      console.log(res.data);\n    }).catch(err => {\n      console.log(err.response.data);\n    });\n  }\n}\n\nasync function commentPost(e) {\n  if (String(e.nativeEvent.path[1].id).startsWith(\"comments_post\")) {\n    let len = e.target.parentElement.id.split(\"\").length;\n    let commentid = parseInt(e.target.parentElement.id.split(\"\")[len - 1]);\n\n    try {\n      let form_comment = new FormData();\n      let postid = parseInt(e.nativeEvent.path[4].id);\n      let token = window.localStorage.getItem(\"token\");\n      let comment_by = window.localStorage.getItem(\"profile_auth\");\n      let comment = e.target.value;\n\n      if (comment_by !== null) {\n        form_comment.append(\"comment_by\", comment_by);\n      }\n\n      if (comment !== null) {\n        form_comment.append(\"comment\", comment);\n      } // Put comments.\n\n\n      lg_api(`comments/${postid}/`, {\n        method: \"put\",\n        headers: {\n          Authorization: `Token ${token}`\n        },\n        data: form_comment\n      }).then(res => {\n        console.log(res.data);\n      }).catch(err => {\n        console.log(err.response.data);\n      });\n    } catch (err) {\n      alert(err.name, err.message);\n      console.log(err.message);\n    }\n  }\n}\n\nasync function replyComment(e) {\n  if (String(e.nativeEvent.path[1].id).startsWith(\"comments_post\")) {\n    try {\n      let token = window.localStorage.getItem(\"token\");\n      let replied_by = window.localStorage.getItem(\"profile_auth\");\n      let form_comment = new FormData();\n      console.log(\"Comment\");\n      let reply = e.target.value; // Comment id validation.\n\n      if (commentid !== null) {\n        form_comment.append(\"commentid\", commentid);\n      } // Replied by validation.\n\n\n      if (replied_by !== null) {\n        form_comment.append(\"replied_by\", replied_by);\n      } // Reply validation.\n\n\n      if (reply !== null) {\n        form_comment.append(\"reply\", reply);\n      } // Put comments.\n\n\n      lg_api(`replies/${commentid}/`, {\n        method: \"put\",\n        headers: {\n          Authorization: `Token ${token}`\n        },\n        data: form_comment\n      }).then(res => {\n        console.log(res.data);\n      }).catch(err => {\n        console.log(err.response.data);\n      });\n    } catch (err) {\n      alert(err.name, err.message);\n      console.log(err.message);\n    }\n  }\n}\n\nasync function likeComment(e) {// if (likes !== null) {\n  //   form_comment.append(\"likes\", likes);\n  // }\n}\n\nexport { likePost, commentPost, replyComment, likeComment };","map":{"version":3,"names":["lg_api","likePost","e","String","nativeEvent","path","id","startsWith","url","token","window","localStorage","getItem","profile_likedit","method","headers","Authorization","data","then","res","target","innerHTML","likes","console","log","catch","err","response","commentPost","len","parentElement","split","length","commentid","parseInt","form_comment","FormData","postid","comment_by","comment","value","append","alert","name","message","replyComment","replied_by","reply","likeComment"],"sources":["/home/nahuela/ADesk/my_projects/lazygram_django/staticfiles/lazygram_app/src/utils/posts/posts.js"],"sourcesContent":["import { lg_api } from \"../../__modules__\";\n\nasync function likePost(e) {\n  if (String(e.nativeEvent.path[1].id).startsWith(\"likes_post\")) {\n    let url = `posts/${e.nativeEvent.path[4].id}/`;\n    let token = window.localStorage.getItem(\"token\");\n    let profile_likedit = window.localStorage.getItem(\"profile_auth\");\n\n    await lg_api(url, {\n      method: \"put\",\n      headers: {\n        Authorization: `Token ${token}`,\n      },\n      data: {\n        profile_likedit: profile_likedit,\n      },\n    })\n      .then((res) => {\n        e.target.innerHTML = res.data.likes;\n        console.log(res.data);\n      })\n      .catch((err) => {\n        console.log(err.response.data);\n      });\n  }\n}\n\nasync function commentPost(e) {\n  if (String(e.nativeEvent.path[1].id).startsWith(\"comments_post\")) {\n    let len = e.target.parentElement.id.split(\"\").length\n    let commentid = parseInt(e.target.parentElement.id.split(\"\")[len-1]);\n\n    try {\n      let form_comment = new FormData();\n      let postid = parseInt(e.nativeEvent.path[4].id);\n      let token = window.localStorage.getItem(\"token\");\n      let comment_by = window.localStorage.getItem(\"profile_auth\");\n      let comment = e.target.value;\n\n      if (comment_by !== null) {\n        form_comment.append(\"comment_by\", comment_by);\n      }\n      if (comment !== null) {\n        form_comment.append(\"comment\", comment);\n      }\n\n      // Put comments.\n      lg_api(`comments/${postid}/`, {\n        method: \"put\",\n        headers: {\n          Authorization: `Token ${token}`,\n        },\n        data: form_comment,\n      })\n        .then((res) => {\n          console.log(res.data);\n        })\n        .catch((err) => {\n          console.log(err.response.data);\n        });\n    } catch (err) {\n      alert(err.name, err.message);\n      console.log(err.message);\n    }\n  }\n}\n\nasync function replyComment(e) {\n  if (String(e.nativeEvent.path[1].id).startsWith(\"comments_post\")) {\n    try {\n      let token = window.localStorage.getItem(\"token\");\n      let replied_by = window.localStorage.getItem(\"profile_auth\");\n      let form_comment = new FormData();\n    console.log(\"Comment\", );\n      \n      let reply = e.target.value;\n\n      // Comment id validation.\n      if (commentid !== null) {\n        form_comment.append(\"commentid\", commentid);\n      }\n\n      // Replied by validation.\n      if (replied_by !== null) {\n        form_comment.append(\"replied_by\", replied_by);\n      }\n\n      // Reply validation.\n      if (reply !== null) {\n        form_comment.append(\"reply\", reply);\n      }\n\n      // Put comments.\n      lg_api(`replies/${commentid}/`, {\n        method: \"put\",\n        headers: {\n          Authorization: `Token ${token}`,\n        },\n        data: form_comment,\n      })\n        .then((res) => {\n          console.log(res.data);\n        })\n        .catch((err) => {\n          console.log(err.response.data);\n        });\n    } catch (err) {\n      alert(err.name, err.message);\n      console.log(err.message);\n    }\n  }\n}\n\nasync function likeComment(e) {\n  // if (likes !== null) {\n  //   form_comment.append(\"likes\", likes);\n  // }\n}\nexport { likePost, commentPost, replyComment, likeComment };\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}