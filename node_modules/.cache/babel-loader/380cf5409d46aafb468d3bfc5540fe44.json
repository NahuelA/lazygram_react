{"ast":null,"code":"var _jsxFileName = \"/home/nahuela/ADesk/my_projects/lazygram_django/staticfiles/lazygram_app/src/apps/posts/CreatePost.js\";\nimport React from \"react\";\nimport { lg_api } from \"../../__modules__\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nclass CreatePost extends React.Component {\n  constructor() {\n    super();\n    this.state = {\n      post: []\n    };\n  }\n\n  componentDidMount() {\n    let form_post = new FormData();\n    let post_image = document.querySelector(\"#id_post_image\").files[0];\n    let description = document.querySelector(\"#id_description\").value; // Post image validation.\n\n    if (post_image !== null) {\n      form_post.append(\"post_image\", post_image);\n    } // Description validation.\n\n\n    if (description !== null) {\n      form_post.append(\"description\", description);\n    }\n\n    lg_api(\"posts/\", {\n      method: \"post\",\n      headers: {\n        Authorization: `Token ${this.token}`\n      },\n      data: form_post\n    });\n  }\n\n  render() {\n    return /*#__PURE__*/_jsxDEV(\"section\", {\n      style: \"margin-top:5em;\",\n      children: /*#__PURE__*/_jsxDEV(\"form\", {\n        method: \"post\",\n        enctype: \"multipart/form-data\",\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          class: \"row w-50 mx-auto justify-content-center\",\n          children: [/*#__PURE__*/_jsxDEV(\"input\", {\n            className: \"form-control mb-2\",\n            type: \"file\",\n            accept: \"image/png, image/jpeg image/jpg image/svg\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 39,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"input\", {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 44,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            type: \"submit\",\n            class: \"btn btn-primary mt-2\",\n            children: \"Submit post\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 45,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 38,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 37,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 36,\n      columnNumber: 7\n    }, this);\n  }\n\n}\n\nexport { CreatePost };","map":{"version":3,"names":["React","lg_api","CreatePost","Component","constructor","state","post","componentDidMount","form_post","FormData","post_image","document","querySelector","files","description","value","append","method","headers","Authorization","token","data","render"],"sources":["/home/nahuela/ADesk/my_projects/lazygram_django/staticfiles/lazygram_app/src/apps/posts/CreatePost.js"],"sourcesContent":["import React from \"react\";\nimport { lg_api } from \"../../__modules__\";\n\nclass CreatePost extends React.Component {\n  constructor() {\n    super();\n    this.state = { post: [] };\n  }\n\n  componentDidMount() {\n    let form_post = new FormData();\n    let post_image = document.querySelector(\"#id_post_image\").files[0];\n    let description = document.querySelector(\"#id_description\").value;\n\n    // Post image validation.\n    if (post_image !== null) {\n      form_post.append(\"post_image\", post_image);\n    }\n\n    // Description validation.\n    if (description !== null) {\n      form_post.append(\"description\", description);\n    }\n\n    lg_api(\"posts/\", {\n      method: \"post\",\n      headers: {\n        Authorization: `Token ${this.token}`,\n      },\n      data: form_post,\n    });\n  }\n\n  render() {\n    return (\n      <section style=\"margin-top:5em;\">\n        <form method=\"post\" enctype=\"multipart/form-data\">\n          <div class=\"row w-50 mx-auto justify-content-center\">\n            <input\n              className=\"form-control mb-2\"\n              type=\"file\"\n              accept=\"image/png, image/jpeg image/jpg image/svg\"\n            />\n            <input />\n            <button type=\"submit\" class=\"btn btn-primary mt-2\">\n              Submit post\n            </button>\n          </div>\n        </form>\n      </section>\n    );\n  }\n}\n\nexport { CreatePost };\n"],"mappings":";AAAA,OAAOA,KAAP,MAAkB,OAAlB;AACA,SAASC,MAAT,QAAuB,mBAAvB;;;AAEA,MAAMC,UAAN,SAAyBF,KAAK,CAACG,SAA/B,CAAyC;EACvCC,WAAW,GAAG;IACZ;IACA,KAAKC,KAAL,GAAa;MAAEC,IAAI,EAAE;IAAR,CAAb;EACD;;EAEDC,iBAAiB,GAAG;IAClB,IAAIC,SAAS,GAAG,IAAIC,QAAJ,EAAhB;IACA,IAAIC,UAAU,GAAGC,QAAQ,CAACC,aAAT,CAAuB,gBAAvB,EAAyCC,KAAzC,CAA+C,CAA/C,CAAjB;IACA,IAAIC,WAAW,GAAGH,QAAQ,CAACC,aAAT,CAAuB,iBAAvB,EAA0CG,KAA5D,CAHkB,CAKlB;;IACA,IAAIL,UAAU,KAAK,IAAnB,EAAyB;MACvBF,SAAS,CAACQ,MAAV,CAAiB,YAAjB,EAA+BN,UAA/B;IACD,CARiB,CAUlB;;;IACA,IAAII,WAAW,KAAK,IAApB,EAA0B;MACxBN,SAAS,CAACQ,MAAV,CAAiB,aAAjB,EAAgCF,WAAhC;IACD;;IAEDb,MAAM,CAAC,QAAD,EAAW;MACfgB,MAAM,EAAE,MADO;MAEfC,OAAO,EAAE;QACPC,aAAa,EAAG,SAAQ,KAAKC,KAAM;MAD5B,CAFM;MAKfC,IAAI,EAAEb;IALS,CAAX,CAAN;EAOD;;EAEDc,MAAM,GAAG;IACP,oBACE;MAAS,KAAK,EAAC,iBAAf;MAAA,uBACE;QAAM,MAAM,EAAC,MAAb;QAAoB,OAAO,EAAC,qBAA5B;QAAA,uBACE;UAAK,KAAK,EAAC,yCAAX;UAAA,wBACE;YACE,SAAS,EAAC,mBADZ;YAEE,IAAI,EAAC,MAFP;YAGE,MAAM,EAAC;UAHT;YAAA;YAAA;YAAA;UAAA,QADF,eAME;YAAA;YAAA;YAAA;UAAA,QANF,eAOE;YAAQ,IAAI,EAAC,QAAb;YAAsB,KAAK,EAAC,sBAA5B;YAAA;UAAA;YAAA;YAAA;YAAA;UAAA,QAPF;QAAA;UAAA;UAAA;UAAA;QAAA;MADF;QAAA;QAAA;QAAA;MAAA;IADF;MAAA;MAAA;MAAA;IAAA,QADF;EAiBD;;AAhDsC;;AAmDzC,SAASpB,UAAT"},"metadata":{},"sourceType":"module"}