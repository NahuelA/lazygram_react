{"ast":null,"code":"var _jsxFileName = \"/home/nahuela/Desktop/projects/lazygram_react/src/components/users/SetNewPassword.jsx\",\n    _s = $RefreshSig$();\n\n/* Set new password */\nimport { lgApi, addInvalidToken } from \"../../__modules__\";\nimport \"../../css/ActiveAccount.css\";\nimport { useNavigate } from \"react-router\";\nimport { useContext } from \"react\";\nimport AuthContext from \"../../context/AuthContext\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nconst SetNewPassword = () => {\n  _s();\n\n  const navigate = useNavigate();\n  const {\n    accessToken\n  } = useContext(AuthContext);\n\n  async function handleSubmit(e) {\n    e.preventDefault();\n    let setNewPassword = new FormData();\n    const passInput = document.querySelector(\"#id_password\");\n    const passwordValue = document.querySelector(\"#id_password\").value;\n    const confirmationPasswordInput = document.querySelector(\"#id_confirmation_passwd\");\n    const confirmationPasswordValue = document.querySelector(\"#id_confirmation_passwd\").value; // Password field\n\n    if (passwordValue !== undefined) {\n      setNewPassword.append(\"password\", passwordValue);\n    } // Confirmation password field\n\n\n    if (confirmationPasswordValue !== undefined) {\n      setNewPassword.append(\"confirm_passwd\", confirmationPasswordValue);\n    }\n\n    if (passwordValue !== confirmationPasswordValue) {\n      addInvalidToken(confirmationPasswordInput, \"Password and confirmation password does not match\");\n    }\n\n    await lgApi(\"accounts/set-new-password\", {\n      method: \"post\",\n      data: setNewPassword,\n      headers: {\n        Authorization: \"Bearer \" + String(accessToken)\n      }\n    }).then(res => {\n      console.log(res);\n      navigate(\"../set-new-password\", {\n        relative: \"path\"\n      });\n    }).catch(err => {\n      let data = err.response.data;\n      console.log(data);\n      let error;\n\n      if (data.non_field_errors !== undefined) {\n        error = data.non_field_errors;\n      }\n\n      if (data.detail !== undefined) {\n        error = data.detail;\n      }\n\n      addInvalidToken(confirmationPasswordInput, error);\n    });\n  }\n\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"w-25 position mx-auto mt-3\",\n    children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n      className: \"h2 text-center\",\n      children: \"Set new password:\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 73,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"form\", {\n      method: \"post\",\n      onSubmit: e => {\n        handleSubmit(e);\n      },\n      children: [/*#__PURE__*/_jsxDEV(\"input\", {\n        type: \"password\",\n        className: \"form-control\",\n        minLength: \"8\",\n        id: \"id_password\",\n        placeholder: \"Set password\",\n        required: true\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 81,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n        type: \"password\",\n        className: \"form-control\",\n        minLength: \"8\",\n        id: \"id_confirmation_passwd\",\n        placeholder: \"Set confirmation password\",\n        required: true\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 89,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n        type: \"submit\",\n        className: \"btn btn-primary col\",\n        id: \"submit\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 97,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 75,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 72,\n    columnNumber: 5\n  }, this);\n};\n\n_s(SetNewPassword, \"SGARSyJocFyg1spVcMgttYrPnjU=\", false, function () {\n  return [useNavigate];\n});\n\n_c = SetNewPassword;\nexport { SetNewPassword };\n\nvar _c;\n\n$RefreshReg$(_c, \"SetNewPassword\");","map":{"version":3,"names":["lgApi","addInvalidToken","useNavigate","useContext","AuthContext","SetNewPassword","navigate","accessToken","handleSubmit","e","preventDefault","setNewPassword","FormData","passInput","document","querySelector","passwordValue","value","confirmationPasswordInput","confirmationPasswordValue","undefined","append","method","data","headers","Authorization","String","then","res","console","log","relative","catch","err","response","error","non_field_errors","detail"],"sources":["/home/nahuela/Desktop/projects/lazygram_react/src/components/users/SetNewPassword.jsx"],"sourcesContent":["/* Set new password */\n\nimport { lgApi, addInvalidToken } from \"../../__modules__\";\nimport \"../../css/ActiveAccount.css\";\nimport { useNavigate } from \"react-router\";\nimport { useContext } from \"react\";\nimport AuthContext from \"../../context/AuthContext\";\n\nconst SetNewPassword = () => {\n  const navigate = useNavigate();\n  const { accessToken } = useContext(AuthContext);\n\n  async function handleSubmit(e) {\n    e.preventDefault();\n\n    let setNewPassword = new FormData();\n    const passInput = document.querySelector(\"#id_password\");\n    const passwordValue = document.querySelector(\"#id_password\").value;\n    const confirmationPasswordInput = document.querySelector(\n      \"#id_confirmation_passwd\"\n    );\n    const confirmationPasswordValue = document.querySelector(\n      \"#id_confirmation_passwd\"\n    ).value;\n\n    // Password field\n    if (passwordValue !== undefined) {\n      setNewPassword.append(\"password\", passwordValue);\n    }\n\n    // Confirmation password field\n    if (confirmationPasswordValue !== undefined) {\n      setNewPassword.append(\"confirm_passwd\", confirmationPasswordValue);\n    }\n\n    if (passwordValue !== confirmationPasswordValue) {\n      addInvalidToken(\n        confirmationPasswordInput,\n        \"Password and confirmation password does not match\"\n      );\n    }\n\n    await lgApi(\"accounts/set-new-password\", {\n      method: \"post\",\n      data: setNewPassword,\n      headers: {\n        Authorization: \"Bearer \" + String(accessToken),\n      },\n    })\n      .then((res) => {\n        console.log(res);\n        navigate(\"../set-new-password\", { relative: \"path\" });\n      })\n      .catch((err) => {\n        let data = err.response.data;\n        console.log(data);\n        let error;\n\n        if (data.non_field_errors !== undefined) {\n          error = data.non_field_errors;\n        }\n\n        if (data.detail !== undefined) {\n          error = data.detail;\n        }\n\n        addInvalidToken(confirmationPasswordInput, error);\n      });\n  }\n\n  return (\n    <div className=\"w-25 position mx-auto mt-3\">\n      <h2 className=\"h2 text-center\">Set new password:</h2>\n\n      <form\n        method=\"post\"\n        onSubmit={(e) => {\n          handleSubmit(e);\n        }}\n      >\n        <input\n          type=\"password\"\n          className=\"form-control\"\n          minLength=\"8\"\n          id=\"id_password\"\n          placeholder=\"Set password\"\n          required\n        />\n        <input\n          type=\"password\"\n          className=\"form-control\"\n          minLength=\"8\"\n          id=\"id_confirmation_passwd\"\n          placeholder=\"Set confirmation password\"\n          required\n        />\n        <input type=\"submit\" className=\"btn btn-primary col\" id=\"submit\" />\n      </form>\n    </div>\n  );\n};\n\nexport { SetNewPassword };\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}