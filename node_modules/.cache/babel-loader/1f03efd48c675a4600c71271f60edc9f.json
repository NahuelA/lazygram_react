{"ast":null,"code":"var _jsxFileName = \"/home/nahuela/Desktop/projects/lazygram_react/src/components/users/ActivateAccount.jsx\",\n    _s = $RefreshSig$();\n\n// Verify token.\nimport { lgApi, addInvalidToken } from \"../../__modules__\";\nimport \"../../css/ActiveAccount.css\";\nimport { redirect, useNavigate } from \"react-router-dom\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nconst ActivateAccount = () => {\n  _s();\n\n  const navigate = useNavigate();\n\n  async function handleSubmit(e) {\n    e.preventDefault(); // Get refresh token\n\n    let activateAccount = new FormData();\n    const refreshInput = document.querySelector(\"#id_token\");\n    const refresh = document.querySelector(\"#id_token\").value;\n    activateAccount.append(\"refresh\", refresh);\n    activateAccount.append(\"username\", window.localStorage.getItem(\"profile_auth\"));\n    await lgApi(\"accounts/validation-register-token/\", {\n      method: \"post\",\n      data: activateAccount\n    }).then(() => {\n      return navigate(\"../login\", {\n        relative: \"path\"\n      });\n    }).catch(err => {\n      console.error(err);\n      addInvalidToken(refreshInput, err.response.data.detail || err.response.data);\n    });\n  }\n\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"w-25 position mx-auto mt-3\",\n    children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n      className: \"h2 text-center\",\n      children: \"Activate your account\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 40,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"form\", {\n      method: \"post\",\n      onSubmit: e => {\n        handleSubmit(e);\n      },\n      children: [/*#__PURE__*/_jsxDEV(\"input\", {\n        type: \"text\",\n        className: \"form-control\",\n        id: \"id_token\",\n        required: true,\n        placeholder: \"Input your token\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 48,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n        type: \"submit\",\n        className: \"btn btn-primary col\",\n        id: \"submit\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 55,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 42,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 39,\n    columnNumber: 5\n  }, this);\n};\n\n_s(ActivateAccount, \"CzcTeTziyjMsSrAVmHuCCb6+Bfg=\", false, function () {\n  return [useNavigate];\n});\n\n_c = ActivateAccount;\nexport { ActivateAccount };\n\nvar _c;\n\n$RefreshReg$(_c, \"ActivateAccount\");","map":{"version":3,"names":["lgApi","addInvalidToken","redirect","useNavigate","ActivateAccount","navigate","handleSubmit","e","preventDefault","activateAccount","FormData","refreshInput","document","querySelector","refresh","value","append","window","localStorage","getItem","method","data","then","relative","catch","err","console","error","response","detail"],"sources":["/home/nahuela/Desktop/projects/lazygram_react/src/components/users/ActivateAccount.jsx"],"sourcesContent":["// Verify token.\n\nimport { lgApi, addInvalidToken } from \"../../__modules__\";\nimport \"../../css/ActiveAccount.css\";\nimport { redirect, useNavigate } from \"react-router-dom\";\n\nconst ActivateAccount = () => {\n  const navigate = useNavigate();\n\n  async function handleSubmit(e) {\n    e.preventDefault();\n    // Get refresh token\n    let activateAccount = new FormData();\n    const refreshInput = document.querySelector(\"#id_token\");\n    const refresh = document.querySelector(\"#id_token\").value;\n    activateAccount.append(\"refresh\", refresh);\n    activateAccount.append(\n      \"username\",\n      window.localStorage.getItem(\"profile_auth\")\n    );\n\n    await lgApi(\"accounts/validation-register-token/\", {\n      method: \"post\",\n      data: activateAccount,\n    })\n      .then(() => {\n        return navigate(\"../login\", { relative: \"path\" });\n      })\n      .catch((err) => {\n        console.error(err);\n        addInvalidToken(\n          refreshInput,\n          err.response.data.detail || err.response.data\n        );\n      });\n  }\n\n  return (\n    <div className=\"w-25 position mx-auto mt-3\">\n      <h2 className=\"h2 text-center\">Activate your account</h2>\n\n      <form\n        method=\"post\"\n        onSubmit={(e) => {\n          handleSubmit(e);\n        }}\n      >\n        <input\n          type=\"text\"\n          className=\"form-control\"\n          id=\"id_token\"\n          required\n          placeholder=\"Input your token\"\n        />\n        <input type=\"submit\" className=\"btn btn-primary col\" id=\"submit\" />\n      </form>\n    </div>\n  );\n};\n\nexport { ActivateAccount };\n"],"mappings":";;;AAAA;AAEA,SAASA,KAAT,EAAgBC,eAAhB,QAAuC,mBAAvC;AACA,OAAO,6BAAP;AACA,SAASC,QAAT,EAAmBC,WAAnB,QAAsC,kBAAtC;;;AAEA,MAAMC,eAAe,GAAG,MAAM;EAAA;;EAC5B,MAAMC,QAAQ,GAAGF,WAAW,EAA5B;;EAEA,eAAeG,YAAf,CAA4BC,CAA5B,EAA+B;IAC7BA,CAAC,CAACC,cAAF,GAD6B,CAE7B;;IACA,IAAIC,eAAe,GAAG,IAAIC,QAAJ,EAAtB;IACA,MAAMC,YAAY,GAAGC,QAAQ,CAACC,aAAT,CAAuB,WAAvB,CAArB;IACA,MAAMC,OAAO,GAAGF,QAAQ,CAACC,aAAT,CAAuB,WAAvB,EAAoCE,KAApD;IACAN,eAAe,CAACO,MAAhB,CAAuB,SAAvB,EAAkCF,OAAlC;IACAL,eAAe,CAACO,MAAhB,CACE,UADF,EAEEC,MAAM,CAACC,YAAP,CAAoBC,OAApB,CAA4B,cAA5B,CAFF;IAKA,MAAMnB,KAAK,CAAC,qCAAD,EAAwC;MACjDoB,MAAM,EAAE,MADyC;MAEjDC,IAAI,EAAEZ;IAF2C,CAAxC,CAAL,CAIHa,IAJG,CAIE,MAAM;MACV,OAAOjB,QAAQ,CAAC,UAAD,EAAa;QAAEkB,QAAQ,EAAE;MAAZ,CAAb,CAAf;IACD,CANG,EAOHC,KAPG,CAOIC,GAAD,IAAS;MACdC,OAAO,CAACC,KAAR,CAAcF,GAAd;MACAxB,eAAe,CACbU,YADa,EAEbc,GAAG,CAACG,QAAJ,CAAaP,IAAb,CAAkBQ,MAAlB,IAA4BJ,GAAG,CAACG,QAAJ,CAAaP,IAF5B,CAAf;IAID,CAbG,CAAN;EAcD;;EAED,oBACE;IAAK,SAAS,EAAC,4BAAf;IAAA,wBACE;MAAI,SAAS,EAAC,gBAAd;MAAA;IAAA;MAAA;MAAA;MAAA;IAAA,QADF,eAGE;MACE,MAAM,EAAC,MADT;MAEE,QAAQ,EAAGd,CAAD,IAAO;QACfD,YAAY,CAACC,CAAD,CAAZ;MACD,CAJH;MAAA,wBAME;QACE,IAAI,EAAC,MADP;QAEE,SAAS,EAAC,cAFZ;QAGE,EAAE,EAAC,UAHL;QAIE,QAAQ,MAJV;QAKE,WAAW,EAAC;MALd;QAAA;QAAA;QAAA;MAAA,QANF,eAaE;QAAO,IAAI,EAAC,QAAZ;QAAqB,SAAS,EAAC,qBAA/B;QAAqD,EAAE,EAAC;MAAxD;QAAA;QAAA;QAAA;MAAA,QAbF;IAAA;MAAA;MAAA;MAAA;IAAA,QAHF;EAAA;IAAA;IAAA;IAAA;EAAA,QADF;AAqBD,CApDD;;GAAMH,e;UACaD,W;;;KADbC,e;AAsDN,SAASA,eAAT"},"metadata":{},"sourceType":"module"}