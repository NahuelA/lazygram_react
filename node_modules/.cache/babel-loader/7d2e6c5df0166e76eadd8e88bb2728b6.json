{"ast":null,"code":"import { lg_api } from \"../../__modules__\";\n\nasync function likePost(e) {\n  if (String(e.nativeEvent.path[1].id).startsWith(\"likes_post\")) {\n    let url = `posts/${e.nativeEvent.path[4].id}/`;\n    console.log(e);\n    let token = window.localStorage.getItem(\"token\");\n    let profile_likedit = window.localStorage.getItem(\"profile_auth\");\n    await lg_api(url, {\n      method: \"put\",\n      headers: {\n        Authorization: `Token ${token}`\n      },\n      data: {\n        profile_likedit: profile_likedit\n      }\n    }).then(res => {\n      console.log(res.data);\n    }).catch(err => {\n      console.log(err.response.data);\n    });\n  }\n}\n\nasync function commentPost(e) {\n  if (String(e.nativeEvent.path[1].id).startsWith(\"comments_post\")) {\n    console.log(\"Comment\", e);\n\n    try {\n      let form_comment = new FormData();\n      let postid = parseInt(e.nativeEvent.path[4].id);\n      let token = window.localStorage.getItem(\"token\");\n      let profile = window.localStorage.getItem(\"profile_auth\");\n\n      if (comment_by !== null) {\n        form_comment.append(\"comment_by\", comment_by);\n      }\n\n      if (postid !== null) {\n        form_comment.append(\"post\", postid);\n      }\n\n      form_comment.append(\"comment_by\", comment_by); // Put comments.\n\n      lg_api(`comments`, {\n        method: \"put\",\n        headers: {\n          Authorization: `Token ${token}`\n        },\n        data: form_comment\n      });\n    } catch (err) {\n      alert(err.name, err.message);\n      console.log(err.message);\n    }\n  }\n}\n\nexport { likePost, commentPost };","map":{"version":3,"names":["lg_api","likePost","e","String","nativeEvent","path","id","startsWith","url","console","log","token","window","localStorage","getItem","profile_likedit","method","headers","Authorization","data","then","res","catch","err","response","commentPost","form_comment","FormData","postid","parseInt","profile","comment_by","append","alert","name","message"],"sources":["/home/nahuela/ADesk/my_projects/lazygram_django/staticfiles/lazygram_app/src/utils/posts/posts.js"],"sourcesContent":["import { lg_api } from \"../../__modules__\";\n\nasync function likePost(e) {\n  if (String(e.nativeEvent.path[1].id).startsWith(\"likes_post\")) {\n    let url = `posts/${e.nativeEvent.path[4].id}/`;\n    console.log(e);\n    let token = window.localStorage.getItem(\"token\");\n    let profile_likedit = window.localStorage.getItem(\"profile_auth\");\n\n    await lg_api(url, {\n      method: \"put\",\n      headers: {\n        Authorization: `Token ${token}`,\n      },\n      data: {\n        profile_likedit: profile_likedit,\n      },\n    })\n      .then((res) => {\n        console.log(res.data);\n      })\n      .catch((err) => {\n        console.log(err.response.data);\n      });\n  }\n}\n\nasync function commentPost(e) {\n  if (String(e.nativeEvent.path[1].id).startsWith(\"comments_post\")) {\n    console.log(\"Comment\", e);\n    try {\n      let form_comment = new FormData();\n      let postid = parseInt(e.nativeEvent.path[4].id);\n      let token = window.localStorage.getItem(\"token\");\n      let profile = window.localStorage.getItem(\"profile_auth\");\n\n      if (comment_by !== null) {\n        form_comment.append(\"comment_by\", comment_by);\n      }\n      if (postid !== null) {\n        form_comment.append(\"post\", postid);\n      }\n      form_comment.append(\"comment_by\", comment_by);\n      // Put comments.\n      lg_api(`comments`, {\n        method: \"put\",\n        headers: {\n          Authorization: `Token ${token}`,\n        },\n        data: form_comment,\n      });\n    } catch (err) {\n      alert(err.name, err.message);\n      console.log(err.message);\n    }\n  }\n}\n\nexport { likePost, commentPost };\n"],"mappings":"AAAA,SAASA,MAAT,QAAuB,mBAAvB;;AAEA,eAAeC,QAAf,CAAwBC,CAAxB,EAA2B;EACzB,IAAIC,MAAM,CAACD,CAAC,CAACE,WAAF,CAAcC,IAAd,CAAmB,CAAnB,EAAsBC,EAAvB,CAAN,CAAiCC,UAAjC,CAA4C,YAA5C,CAAJ,EAA+D;IAC7D,IAAIC,GAAG,GAAI,SAAQN,CAAC,CAACE,WAAF,CAAcC,IAAd,CAAmB,CAAnB,EAAsBC,EAAG,GAA5C;IACAG,OAAO,CAACC,GAAR,CAAYR,CAAZ;IACA,IAAIS,KAAK,GAAGC,MAAM,CAACC,YAAP,CAAoBC,OAApB,CAA4B,OAA5B,CAAZ;IACA,IAAIC,eAAe,GAAGH,MAAM,CAACC,YAAP,CAAoBC,OAApB,CAA4B,cAA5B,CAAtB;IAEA,MAAMd,MAAM,CAACQ,GAAD,EAAM;MAChBQ,MAAM,EAAE,KADQ;MAEhBC,OAAO,EAAE;QACPC,aAAa,EAAG,SAAQP,KAAM;MADvB,CAFO;MAKhBQ,IAAI,EAAE;QACJJ,eAAe,EAAEA;MADb;IALU,CAAN,CAAN,CASHK,IATG,CASGC,GAAD,IAAS;MACbZ,OAAO,CAACC,GAAR,CAAYW,GAAG,CAACF,IAAhB;IACD,CAXG,EAYHG,KAZG,CAYIC,GAAD,IAAS;MACdd,OAAO,CAACC,GAAR,CAAYa,GAAG,CAACC,QAAJ,CAAaL,IAAzB;IACD,CAdG,CAAN;EAeD;AACF;;AAED,eAAeM,WAAf,CAA2BvB,CAA3B,EAA8B;EAC5B,IAAIC,MAAM,CAACD,CAAC,CAACE,WAAF,CAAcC,IAAd,CAAmB,CAAnB,EAAsBC,EAAvB,CAAN,CAAiCC,UAAjC,CAA4C,eAA5C,CAAJ,EAAkE;IAChEE,OAAO,CAACC,GAAR,CAAY,SAAZ,EAAuBR,CAAvB;;IACA,IAAI;MACF,IAAIwB,YAAY,GAAG,IAAIC,QAAJ,EAAnB;MACA,IAAIC,MAAM,GAAGC,QAAQ,CAAC3B,CAAC,CAACE,WAAF,CAAcC,IAAd,CAAmB,CAAnB,EAAsBC,EAAvB,CAArB;MACA,IAAIK,KAAK,GAAGC,MAAM,CAACC,YAAP,CAAoBC,OAApB,CAA4B,OAA5B,CAAZ;MACA,IAAIgB,OAAO,GAAGlB,MAAM,CAACC,YAAP,CAAoBC,OAApB,CAA4B,cAA5B,CAAd;;MAEA,IAAIiB,UAAU,KAAK,IAAnB,EAAyB;QACvBL,YAAY,CAACM,MAAb,CAAoB,YAApB,EAAkCD,UAAlC;MACD;;MACD,IAAIH,MAAM,KAAK,IAAf,EAAqB;QACnBF,YAAY,CAACM,MAAb,CAAoB,MAApB,EAA4BJ,MAA5B;MACD;;MACDF,YAAY,CAACM,MAAb,CAAoB,YAApB,EAAkCD,UAAlC,EAZE,CAaF;;MACA/B,MAAM,CAAE,UAAF,EAAa;QACjBgB,MAAM,EAAE,KADS;QAEjBC,OAAO,EAAE;UACPC,aAAa,EAAG,SAAQP,KAAM;QADvB,CAFQ;QAKjBQ,IAAI,EAAEO;MALW,CAAb,CAAN;IAOD,CArBD,CAqBE,OAAOH,GAAP,EAAY;MACZU,KAAK,CAACV,GAAG,CAACW,IAAL,EAAWX,GAAG,CAACY,OAAf,CAAL;MACA1B,OAAO,CAACC,GAAR,CAAYa,GAAG,CAACY,OAAhB;IACD;EACF;AACF;;AAED,SAASlC,QAAT,EAAmBwB,WAAnB"},"metadata":{},"sourceType":"module"}