{"ast":null,"code":"var _jsxFileName = \"/home/nahuela/Desktop/projects/lazygram_react/src/components/users/CreateUser.jsx\",\n    _s = $RefreshSig$();\n\n/* Form to create an user. */\nimport { useNavigate } from \"react-router\";\nimport { lgApi, addInvalidRegister } from \"../../__modules__\";\nimport \"../../css/Margin.css\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nconst CreateUser = () => {\n  _s();\n\n  const navigate = useNavigate();\n  /**\n   * Handle the submit event and send received data.\n   * @param {event} e\n   */\n\n  const submitUser = async e => {\n    e.preventDefault();\n    let form_user = new FormData(); // Data\n\n    let username = document.querySelector(\"#id_username\").value;\n    let password = document.querySelector(\"#id_password\").value;\n    let email = document.querySelector(\"#id_email\").value;\n    let first_name = document.querySelector(\"#id_first_name\").value;\n    let last_name = document.querySelector(\"#id_last_name\").value; // Username validation\n\n    if (username !== undefined) {\n      form_user.append(\"username\", username);\n    } // Password validation\n\n\n    if (password !== undefined) {\n      form_user.append(\"password\", password);\n    } // Email validation\n\n\n    if (email !== undefined) {\n      form_user.append(\"email\", email);\n    } // First name validation\n\n\n    if (first_name !== undefined) {\n      form_user.append(\"first_name\", first_name);\n    } // Last name validation\n\n\n    if (last_name !== undefined) {\n      form_user.append(\"last_name\", last_name);\n    }\n\n    let createUser = true; // Create user\n\n    await lgApi(\"accounts/users/\", {\n      method: \"post\",\n      headers: {\n        \"Content-Type\": \"multipart/form-data\"\n      },\n      data: form_user\n    }).then(() => {\n      window.localStorage.setItem(\"profile_auth\", username);\n    }).catch(err => {\n      createUser = false;\n      addInvalidRegister(err.response.data, e.target);\n    });\n\n    if (!!createUser) {\n      navigate(\"../activate-account\", {\n        relative: \"path\"\n      });\n    }\n  };\n\n  return /*#__PURE__*/_jsxDEV(\"form\", {\n    method: \"post\",\n    encType: \"multipart/form-data\",\n    onSubmit: e => {\n      submitUser(e);\n    },\n    className: \"mt-3\",\n    children: /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"mx-auto mt-4 w-75\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"mb-2 col-sm-8 mx-auto\",\n        children: /*#__PURE__*/_jsxDEV(\"h2\", {\n          className: \"h2\",\n          children: \"Create your account\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 85,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 84,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"mb-2 col-sm-8 mx-auto\",\n        children: [/*#__PURE__*/_jsxDEV(\"label\", {\n          htmlFor: \"id_username\",\n          className: \"form-label\",\n          children: \"Username:\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 90,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n          type: \"text\",\n          placeholder: \"Username\",\n          id: \"id_username\",\n          className: \"form-control\",\n          required: true\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 93,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 89,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"mb-2 col-sm-8 mx-auto\",\n        children: [/*#__PURE__*/_jsxDEV(\"label\", {\n          htmlFor: \"id_password\",\n          className: \"form-label\",\n          children: \"Password:\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 104,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n          type: \"password\",\n          placeholder: \"Password\",\n          id: \"id_password\",\n          className: \"form-control\",\n          required: true\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 107,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 103,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"mb-2 col-sm-8 mx-auto\",\n        children: [/*#__PURE__*/_jsxDEV(\"label\", {\n          htmlFor: \"id_email\",\n          className: \"form-label\",\n          children: \"Email:\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 118,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n          type: \"text\",\n          className: \"form-control\",\n          pattern: \".+@gmail\\\\.com\",\n          maxLength: \"170\",\n          minLength: \"8\",\n          id: \"id_email\",\n          placeholder: \"youremail@domain.com\",\n          \"aria-label\": \"Your email\",\n          required: true\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 121,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 117,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"mb-2 col-sm-8 mx-auto\",\n        children: [/*#__PURE__*/_jsxDEV(\"label\", {\n          htmlFor: \"id_first_name\",\n          className: \"form-label\",\n          children: \"First name:\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 136,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n          type: \"text\",\n          placeholder: \"First name\",\n          id: \"id_first_name\",\n          className: \"form-control\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 139,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 135,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"mb-2 col-sm-8 mx-auto\",\n        children: [/*#__PURE__*/_jsxDEV(\"label\", {\n          htmlFor: \"id_last_name\",\n          className: \"form-label\",\n          children: \"Last name:\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 149,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n          type: \"text\",\n          placeholder: \"Last name\",\n          id: \"id_last_name\",\n          className: \"form-control\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 152,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 148,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"d-grid gap-2 col-sm-8 mx-auto mb-2\",\n        children: /*#__PURE__*/_jsxDEV(\"button\", {\n          type: \"submit\",\n          className: \"btn btn-primary\",\n          children: \"Register now!\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 162,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 161,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 82,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 74,\n    columnNumber: 5\n  }, this);\n};\n\n_s(CreateUser, \"CzcTeTziyjMsSrAVmHuCCb6+Bfg=\", false, function () {\n  return [useNavigate];\n});\n\n_c = CreateUser;\nexport { CreateUser };\n\nvar _c;\n\n$RefreshReg$(_c, \"CreateUser\");","map":{"version":3,"names":["useNavigate","lgApi","addInvalidRegister","CreateUser","navigate","submitUser","e","preventDefault","form_user","FormData","username","document","querySelector","value","password","email","first_name","last_name","undefined","append","createUser","method","headers","data","then","window","localStorage","setItem","catch","err","response","target","relative"],"sources":["/home/nahuela/Desktop/projects/lazygram_react/src/components/users/CreateUser.jsx"],"sourcesContent":["/* Form to create an user. */\n\nimport { useNavigate } from \"react-router\";\nimport { lgApi, addInvalidRegister } from \"../../__modules__\";\nimport \"../../css/Margin.css\";\n\nconst CreateUser = () => {\n  const navigate = useNavigate();\n\n  /**\n   * Handle the submit event and send received data.\n   * @param {event} e\n   */\n  const submitUser = async (e) => {\n    e.preventDefault();\n    let form_user = new FormData();\n\n    // Data\n    let username = document.querySelector(\"#id_username\").value;\n    let password = document.querySelector(\"#id_password\").value;\n    let email = document.querySelector(\"#id_email\").value;\n    let first_name = document.querySelector(\"#id_first_name\").value;\n    let last_name = document.querySelector(\"#id_last_name\").value;\n\n    // Username validation\n    if (username !== undefined) {\n      form_user.append(\"username\", username);\n    }\n\n    // Password validation\n    if (password !== undefined) {\n      form_user.append(\"password\", password);\n    }\n\n    // Email validation\n    if (email !== undefined) {\n      form_user.append(\"email\", email);\n    }\n\n    // First name validation\n    if (first_name !== undefined) {\n      form_user.append(\"first_name\", first_name);\n    }\n\n    // Last name validation\n    if (last_name !== undefined) {\n      form_user.append(\"last_name\", last_name);\n    }\n\n    let createUser = true;\n\n    // Create user\n    await lgApi(\"accounts/users/\", {\n      method: \"post\",\n      headers: {\n        \"Content-Type\": \"multipart/form-data\",\n      },\n      data: form_user,\n    })\n      .then(() => {\n        window.localStorage.setItem(\"profile_auth\", username);\n      })\n      .catch((err) => {\n        createUser = false;\n        addInvalidRegister(err.response.data, e.target);\n      });\n\n    if (!!createUser) {\n      navigate(\"../activate-account\", { relative: \"path\" });\n    }\n  };\n\n  return (\n    <form\n      method=\"post\"\n      encType=\"multipart/form-data\"\n      onSubmit={(e) => {\n        submitUser(e);\n      }}\n      className=\"mt-3\"\n    >\n      <div className=\"mx-auto mt-4 w-75\">\n        {/* Title create profile */}\n        <div className=\"mb-2 col-sm-8 mx-auto\">\n          <h2 className=\"h2\">Create your account</h2>\n        </div>\n\n        {/* Username */}\n        <div className=\"mb-2 col-sm-8 mx-auto\">\n          <label htmlFor=\"id_username\" className=\"form-label\">\n            Username:\n          </label>\n          <input\n            type=\"text\"\n            placeholder=\"Username\"\n            id=\"id_username\"\n            className=\"form-control\"\n            required\n          />\n        </div>\n\n        {/* Password */}\n        <div className=\"mb-2 col-sm-8 mx-auto\">\n          <label htmlFor=\"id_password\" className=\"form-label\">\n            Password:\n          </label>\n          <input\n            type=\"password\"\n            placeholder=\"Password\"\n            id=\"id_password\"\n            className=\"form-control\"\n            required\n          />\n        </div>\n\n        {/* Email */}\n        <div className=\"mb-2 col-sm-8 mx-auto\">\n          <label htmlFor=\"id_email\" className=\"form-label\">\n            Email:\n          </label>\n          <input\n            type=\"text\"\n            className=\"form-control\"\n            pattern=\".+@gmail\\.com\"\n            maxLength=\"170\"\n            minLength=\"8\"\n            id=\"id_email\"\n            placeholder=\"youremail@domain.com\"\n            aria-label=\"Your email\"\n            required\n          />\n        </div>\n\n        {/* First name */}\n        <div className=\"mb-2 col-sm-8 mx-auto\">\n          <label htmlFor=\"id_first_name\" className=\"form-label\">\n            First name:\n          </label>\n          <input\n            type=\"text\"\n            placeholder=\"First name\"\n            id=\"id_first_name\"\n            className=\"form-control\"\n          />\n        </div>\n\n        {/* Last name */}\n        <div className=\"mb-2 col-sm-8 mx-auto\">\n          <label htmlFor=\"id_last_name\" className=\"form-label\">\n            Last name:\n          </label>\n          <input\n            type=\"text\"\n            placeholder=\"Last name\"\n            id=\"id_last_name\"\n            className=\"form-control\"\n          />\n        </div>\n\n        {/* Submit */}\n        <div className=\"d-grid gap-2 col-sm-8 mx-auto mb-2\">\n          <button type=\"submit\" className=\"btn btn-primary\">\n            Register now!\n          </button>\n        </div>\n      </div>\n    </form>\n  );\n};\n\nexport { CreateUser };\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}